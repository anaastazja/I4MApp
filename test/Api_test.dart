// Import the test package and Counter class
import 'dart:convert';
import 'package:flutter_test/flutter_test.dart';
import 'package:industry4medical/Api.dart';

void main() {
  test('Counter value should be incremented', () async {
    String jwt = "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE2MjM1ODIyOTIsImV4cCI6MTY1NTExODI5MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsInVzZXJJRCI6IjEifQ.yAem0cQhijdY9HvXBczLyEp8P5erPvfKYgL5Cn8x0_k";
    var response = await API.getSleepStatisticsForSelectedUser(jwt);
    List statistics = json.decode(response);

    expect(statistics[0]["user_sleep_data_id"], 1);
    expect(statistics[0]["sleep_data"], '{"some_id": 75,"some_data": [1501,4142,1675,4010,1285,7139,4478,5999,9674,7590,5940,5696,2805,4975,8694,5251,8695,8409,6103,3937,4650,6407,3060,4279,9028,2768,8867,5435,4853,943,8360,5178,6798,9939,4559,264,3146,3895,1080,6226,4922,2959,4336,3890,752,9847,1650,6208,6061,5391,4710,5203,8905,8651,4344,8848,6689,3209,1894,1221,1650,9156,873,1231,838,9733,1350,3198,2486,5399,8134,5822,8949,5155,7934,1162,7261,964,1007,6156,8435,8122,4589,5673,6375,8251,3146,187,9648,7386,7074,677,2839,3105,1283,2287,9204,8086,7881,2726,730,5532,1685,5189,5294,3518,7928,5006,4029,4687,883,4788,6594,5598,3906,2877,1457,5082,8364,96,2244,8517,841,756,8746,9501,2712,2278,517,8384,9756,2736,5937,6939,9728,7720,2183,7028,2706,2734,5001,401,2016,6531,275,4715,9735,4843,4987,9478,5254,8028,5287,5404,1115,3981,6347,1959,2918,7456,2090,1360,1543,6989,9510,772,7680,5529,6971,1239,3927,8298,1343,6060,1315,3619,4613,2669,3407,9052,1472,5716,7272,5369,2962,2526,1784,1468,4872,6272,2350,7400,6378,7576,5793,5834,1075,4806,5395,1275,717,3064,8260');
    expect(statistics[0]["created_datetime"], '2021-05-31T20:34:45.000Z');
  });
}
